import utils from"@bigcommerce/stencil-utils";import{defaultModal}from"../global/modal";import{CollapsibleEvents}from"../common/collapsible";import haloNewsletterPopup from"./haloNewsletterPopup";import haloRecentlyBoughtPopup from"./haloRecentlyBoughtPopup";import haloRecentlyViewedProduct from"./haloRecentlyViewedProduct";import haloBeforeYouLeave from"./haloBeforeYouLeave";import haloMegaMenuEditor from"./haloMegaMenuEditor";import haloAjaxLoginPopup from"./haloAjaxLoginPopup";import haloAddOptionForProduct from"./haloAddOptionForProduct";import AZBrands from"./haloAZbrands";import haloAjaxAddToCart from"./haloAjaxAddToCart";import haloHomeProductLookbook from"./haloHomeProductLookbook";import mobileMenuToggle from"../global/mobile-menu-toggle";import quickView from"../global/quick-view";import menu from"../global/menu";import privacyCookieNotification from"../global/cookieNotification";import loadingProgressBar from"../global/loading-progress-bar";import quickSearch from"../global/quick-search";import{Fancybox}from"fancybox";import addBrandForWishlistItem from"./addBrandForWishlistItem";import addBrandForOrderItem from"./addBrandForOrderItem";import addBrandForWishlistSidebar from"./addBrandForWishlistSidebar";import{api}from"@bigcommerce/stencil-utils";import ProductDetails from"../common/product-details";import{type}from"jquery";import{forEach}from"lodash";export default function(e){const t=e,o=(e.token,e.themeSettings);var a=$("header.header"),r=$(".halo-topHeader").outerHeight(),i=a.outerHeight(),n=($(window).scrollTop(),!0),s=!0,l=!0,d=!0,c=!0,u=!0,p=!0,m=!0,h=!0,f=!0,g=!0,v=!0,b=!0,y=!0,w=!0,k=!0,C=!0,x=!0;function S(){if(n){n=!1,haloMegaMenuEditor(t),mobileMenuToggle(),haloRecentlyBoughtPopup(t),haloBeforeYouLeave(t),haloAjaxAddToCart(t),haloHomeProductLookbook(t),function(e){var o;$("body").hasClass("page-type-product")?$("body").hasClass("page-type-product")&&$(".ask-an-expert-link").on("click",(e=>{e.preventDefault();const o={template:"halothemes/ask-an-expert/halo-ask-an-expert-content"},a=defaultModal();a.$modal.removeClass().addClass("modal modal--standard halo-ask-an-expert"),a.open(),utils.api.product.getById(t.productId,o,((e,t)=>{a.updateContent(t)}))})):$(".ask-an-expert-link").on("click",(e=>{e.preventDefault();const t={template:"halothemes/ask-an-expert/halo-ask-an-expert-content"},o=defaultModal();o.$modal.removeClass().addClass("modal modal--standard halo-ask-an-expert"),o.open(),utils.api.getPage("/",t,((e,t)=>{o.updateContent(t)}))}));$(document).on("click","#halo-ask-an-expert-button",(t=>{var a=!0,r=e.themeSettings.halo_ask_an_expert_subject_mail,i=e.themeSettings.halo_ask_an_expert_mailto,n=$("#halo-ask-an-expert-form input[name=customer_name]").val(),s=$("#halo-ask-an-expert-form input[name=customer_email]").val(),l=$("#halo-ask-an-expert-form input[name=customer_phone]").val(),d=$("#halo-ask-an-expert-form input[name=type_contact]:checked").val(),c=$("#halo-ask-an-expert-form input[name=type_package]:checked").val(),u=$("#halo-ask-an-expert-form textarea[name=comment_area]").val();if($("body").hasClass("page-type-product")){if($("body").hasClass("page-type-product")){var p=$(".halo-ask-an-expert [data-product-image]").attr("data-product-image"),m=$(".halo-ask-an-expert [data-product-title]").attr("data-product-title"),h=$(".halo-ask-an-expert [data-product-sku]").attr("data-product-sku"),f=$(".halo-ask-an-expert [data-product-url]").attr("data-product-url");o="<div style='border: 1px solid #e6e6e6;padding: 30px;max-width: 500px;margin: 0 auto;'>                                <h2 style='margin-top:0;margin-bottom:30px;color: #000000;'>"+r+"</h2>                                <p style='border-bottom: 1px solid #e6e6e6;padding-bottom: 23px;margin-bottom:25px;color: #000000;'>You received a new message from your online store's ask an expert form.</p>                                <table style='width:100%;'>                                <tr>                                    <td style='border-bottom: 1px solid #e6e6e6;padding-bottom: 25px;margin-bottom:25px;width:50%;'><img width='100px' src='"+p+"' alt='"+m+"' title='"+m+"'></td><td style='border-bottom: 1px solid #e6e6e6;padding-bottom: 25px;margin-bottom:25px;'>"+h+" <br><a href='"+f+"'>"+m+"</a></td>                                </tr>                            <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>Customer Name: </strong></td><td>"+n+"</td></tr>                            <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>Email Address: </strong></td><td>"+s+"</td></tr>                            <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>Phone Number: </strong></td><td>"+l+"</td></tr>                            <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>How would you like me to contact you? </strong></td><td>"+d+"</td></tr>                            <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>Do you need: </strong></td><td>"+c+"</td></tr>                            <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>What can i help you with today? </strong></td><td>"+u+"</td></tr>                        </table></div>"}}else o="<div style='border: 1px solid #e6e6e6;padding: 30px;max-width: 500px;margin: 0 auto;'>                                <h2 style='margin-top:0;margin-bottom:30px;color: #000000;'>"+r+"</h2>                                <p style='border-bottom: 1px solid #e6e6e6;padding-bottom: 23px;margin-bottom:25px;color: #000000;'>You received a new message from your online store's ask an expert form.</p>                                <table style='width:100%;'>                            <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>Customer Name: </strong></td><td>"+n+"</td></tr>                            <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>Email Address: </strong></td><td>"+s+"</td></tr>                            <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>Phone Number: </strong></td><td>"+l+"</td></tr>                            <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>How would you like me to contact you? </strong></td><td>"+d+"</td></tr>                            <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>Do you need: </strong></td><td>"+c+"</td></tr>                            <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>What can i help you with today? </strong></td><td>"+u+"</td></tr>                        </table></div>";if($("#halo-ask-an-expert-form input[required], #halo-ask-an-expert-form textarea[required]").each(((e,t)=>{$.trim($(t).val())?$(t).parent(".form-field").removeClass("form-field--error").addClass("form-field--success"):($(t).parent(".form-field").removeClass("form-field--success").addClass("form-field--error"),a=!1);var o=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;"customer_email"!=$(t).attr("name")||o.test($.trim($(t).val()))||($(t).parent(".form-field").removeClass("form-field--success").addClass("form-field--error"),a=!1)})),a){var g={api:"i_send_mail",subject:r,from_name:n,email:i,email_from:s,message:o};$.post("https://themevale.net/tools/sendmail/quotecart/sendmail.php",g,(e=>{if("error"==e.type)var t='<div class="alertBox alertBox--error"><p class="alertBox-message">'+e.text+"</p></div>",o="Ai alte intrebari?!";else{t='<div class="alertBox alertBox--success"><p class="alertBox-message custom-page-text fw-500 text-center">Multumim pentru mesajul tau. Vei primi un raspuns de la echipa noastra in curand pe email.</p>\n                        <p class="alertBox-message custom-page-text fw-500 text-center">Intre timp, descopera cele mai noi produse adaugate!</p>\n\n                        <a href="/categories/c-r-i/" class="button button--tertiary hover-gold btn-mobile">NOUTATI</a></div>',o="Multumim!";$("#halo-ask-an-expert-form  input[required], #halo-ask-an-expert-form textarea[required]").val(""),$("#halo-ask-an-expert-form").hide()}$("#halo-ask-an-expert-results").hide().html(t).show(),$(".heading-submit-form--success").hide().text(o).show()}),"json")}}))}(t),haloAskAnExpertDigital(t),function(e){var t;$(document).on("click","#reminder-annouce-button",(o=>{var a=!0,r=e.themeSettings.halo_ask_an_expert_subject_mail,i=e.themeSettings.halo_ask_an_expert_mailto,n=$("#halo-ask-an-expert-form input[name=customer_name]").val(),s=$("#halo-ask-an-expert-form input[name=customer_phone]").val(),l=$('.reminder-form .ask-top-content .check-box-group input[name="reminder-form-radio"]:checked').val();if(t="<div style='border: 1px solid #e6e6e6;padding: 30px;max-width: 500px;margin: 0 auto;'>                                <h2 style='margin-top:0;margin-bottom:30px;color: #000000;'>"+r+"</h2>                                <p style='border-bottom: 1px solid #e6e6e6;padding-bottom: 23px;margin-bottom:25px;color: #000000;'>You received a new message from your online store's ask an expert form.</p>                                <table style='width:100%;'>                            <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>Customer Name: </strong></td><td>"+n+"</td></tr>                            <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>Phone Number: </strong></td><td>"+s+"</td></tr>                            <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>Cate carti vrei sa citesti anul acesta?</strong></td><td>"+l+"</td></tr>                        </table></div>",$("#halo-ask-an-expert-form input[required], #halo-ask-an-expert-form textarea[required]").each(((e,t)=>{$.trim($(t).val())?$(t).parent(".form-field").removeClass("form-field--error").addClass("form-field--success"):($(t).parent(".form-field").removeClass("form-field--success").addClass("form-field--error"),a=!1)})),a){var d={api:"i_send_mail",subject:r,from_name:n,email:i,message:t};$(".reminder-form-wrapper").hide(),$("#reminder-annouce-results").hide().html('<div class="reminder-annouce-wrapper">\n                        <h4 class="reminder-annouce-title">Esti inscris!</h4>\n                        <div class="reminder-annouce-content">\n                            <p>Abia asteptam sa fiim alaturi de tine in dezvoltarea obiceiului de a citi. Vei primi o confirmare si notificari pe email/mesaj Whatsapp.</p>\n                            <p>Intre timp, descopera cele mai noi produse adaugate!</p>\n                        </div>\n                        <a href="#" class="button button--tertiary reminder-annouce-button hover-gold">NOUTATI</a>\n                    </div>').show(),$.post("https://themevale.net/tools/sendmail/quotecart/sendmail.php",d,(e=>{if("error"==e.type)var t='<div class="alertBox alertBox--error"><p class="alertBox-message">'+e.text+"</p></div>";else{t='<div class="reminder-annouce-wrapper">\n                        <h4 class="reminder-annouce-title">Esti inscris!</h4>\n                        <div class="reminder-annouce-content">\n                            <p>Abia asteptam sa fiim alaturi de tine in dezvoltarea obiceiului de a citi. Vei primi o confirmare si notificari pe email/mesaj Whatsapp.</p>\n                            <p>Intre timp, descopera cele mai noi produse adaugate!</p>\n                        </div>\n                        <a href="#" class="button button--tertiary reminder-annouce-button hover-gold">NOUTATI</a>\n                    </div>';$(".reminder-form-wrapper").hide()}$("#reminder-annouce-results").hide().html(t).show()}),"json")}}))}(t),quickView(t),quickSearch(t),menu(),privacyCookieNotification(),loadingProgressBar(),eventFilterSidebar(),eventFilter(),viewEventMore(),accountWishlistSidebar(t),accountInformation(),getAccountAddress(),changeNavigationPosition(),changeWishlistPosition(),changeDateFormat(),orderTabs(t),viewMoreButton(),addBrandForWishlistItem(t),removeWishlistItem(),closeHeaderSearch(),formartPrice(),o.halo_recently_viewed_products&&haloRecentlyViewedProduct(t),o.halo_newsletter_popup&&haloNewsletterPopup(t),haloAjaxLoginPopup(),T(),$(document).on("click",".card .card-option .form-option",(function(){var e=$(this),t=e.data("image"),o=e.closest(".card"),a=e.data("title");if(o.find(".variant_color_name").html(a),e.parents(".card-option").find(".form-option").removeClass("active"),e.addClass("active"),"undefined"!=t)return o.find(".card-img-container img").attr({src:t,srcset:t}),!1})),$(".footer-info-col--mobile .footer-info-heading").on("click",(e=>{$(".footer-info-col--mobile .footer-info-heading").not($(e.currentTarget)).removeClass("is-clicked"),$(e.currentTarget).hasClass("is-clicked")?$(e.currentTarget).removeClass("is-clicked"):$(e.currentTarget).addClass("is-clicked"),$(".footer-info-col--mobile").each(((e,t)=>{$(".footer-info-heading",t).hasClass("is-clicked")?$(t).find(".footer-info-wrapper").slideDown("slow"):$(t).find(".footer-info-wrapper").slideUp("slow")}))})),q(),function(){var e=$(window).height()/2;const t=$("#haloBackToTop");$(window).scroll((o=>{$(o.currentTarget).scrollTop()>e?t.addClass("is-visible"):t.removeClass("is-visible")})),t.on("click",(e=>{e.preventDefault(),$("body,html").animate({scrollTop:0},1e3)}))}(),function(){if($('body[data-page-type="blog"]').length){let e={};$("#blog-tags .recentPosts_tags [data-tag]").each((function(t){var o=$(this).data("tag");e[o]?$(this).remove():e[o]=!0})),$("#blog-tags .recentPosts_tags").show()}else if($('body[data-page-type="blog_post"]').length){const e="/blog";$.get(e,(function(e){let t={};const o=$(e).find("#blog-tags .recentPosts_tags").html();$("#blog-tags .recentPosts_tags").html(o),$("#blog-tags .recentPosts_tags [data-tag]").each((function(e){var o=$(this).data("tag");t[o]?$(this).remove():t[o]=!0})),$("#blog-tags .recentPosts_tags").show()}))}}(),window.innerWidth<1025&&(D(),F(),M()),$(".special-product-blocks").length&&j(t);let e=$("#card_name_dropdown");e.length&&e.on("change",(function(){reviewGiftCard()})),$(".page-type-giftcertificates").length&&balanceVource()}}function _(){$(".bottomHeader-item #quickSearch").length&&$(".bottomHeader-item #quickSearch").appendTo("#halo-search-sidebar .halo-sidebar-search")}function T(){$(".halo-menu-sidebar .halo-sidebar-close").on("click",(e=>{e.preventDefault(),$("body").hasClass("has-activeNavPages")&&$(".mobileMenu-toggle").trigger("click")})),$(document).on("click",(e=>{$("body").hasClass("has-activeNavPages")&&0===$(e.target).closest(".halo-menu-sidebar").length&&0===$(e.target).closest(".mobileMenu-toggle").length&&0===$(e.target).closest("[data-menu-mobile]").length&&$(".mobileMenu-toggle").trigger("click")}));var e=$(".halo-bottomHeader .bottomHeader-container .navPages-list:not(.navPages-list--user)"),t=$("#halo-menu-sidebar .navPages-list:not(.navPages-list--user)");$(window).width()<=1024&&$(".mobileMenu-toggle").on("click",(o=>{e.length&&(t.children().length||e.children().appendTo(t))}))}function q(){if($("#consent-manager").length){var e=$("#consent-manager").height()+15;$("#recently_bought_list").css("bottom",e)}}function E(e){const o=$(".productCarousel");if(o.length){e>o.offset().top-screen.height&&s&&(s=!1,$(".productCarousel").length>0&&$(".productCarousel").each(((e,o)=>{var a=$(o).attr("id");haloAddOptionForProduct(t,a)})))}}function A(o){const a=$(".productGrid:not(.productListing)");if(a.length){if(o>a.offset().top-screen.height&&l&&(l=!1,$(".productGrid:not(.productListing)").length>0)){let o=e.themeSettings.home_product_col,a=2*parseInt(o);document.querySelector(".page-type-wishlist")&&(a=9),$(".productGrid:not(.productListing)").each(((e,o)=>{var r=$(o).attr("id");$(o).find(".product:visible").css("display","none"),$(o).find(".product:hidden").slice(0,a).css("display","inline-block"),$(o).find(".product").length>a&&$(o).after('<div class="productGrid-showMore"><a class="button button--primary" href="#" data-href="'+r+'">VEZI TOATE</a></div>'),haloAddOptionForProduct(t,r)})),$(".productGrid-showMore .button").on("click",(e=>{e.preventDefault();var t=$(e.currentTarget),o=t.data("href");t.blur(),$("[data-block="+o+"]").find(".product:hidden").slice(0,a).css("display","inline-block"),0==$("[data-block="+o+"]").find(".product:hidden").length&&t.addClass("disable").text("No more items")}))}}}function P(e){const t=$(".halo-block-product-tabs .productCarousel-tabs");if(t.length){if(e>t.offset().top-screen.height&&d){d=!1;const e={template:"products/carousel-3"};if($(".productCarousel-tabs").length>0){if(!$(".productCarousel-tabs .tab-content.is-active .productCarousel .productCarousel-slide:not(.product-sample)").length){var o=$(".productCarousel-tabs .tab-content.is-active"),a=o.find(".productCarousel"),r=o.data("tab-category-id"),i=o.data("tab-category-url"),n=o.attr("id");I(r,i,e,a,n)}$(".productCarousel-tabs [data-tab]").on("toggled",((t,o)=>{if(!$(".productCarousel-tabs .tab-content.is-active .productCarousel .productCarousel-slide:not(.product-sample)").length){var a=$(".productCarousel-tabs .tab-content.is-active"),r=a.find(".productCarousel"),i=a.data("tab-category-id"),n=a.data("tab-category-url"),s=a.attr("id");$(t.currentTarget).find(".productCarousel").hasClass("slick-initialized")||I(i,n,e,r,s)}}))}}}}function L(e){const t=$(".halo-block-product-4 .productCarousel-custom");if(t.length){if(e>t.offset().top-screen.height&&c){c=!1;const e={template:"products/carousel-3"};if($(".halo-block-product-4 .productCarousel-custom").length>0&&!$(".halo-block-product-4 .productCarousel-custom .productCarousel-content .productCarousel .productCarousel-slide:not(.product-sample)").length){var o=$(".halo-block-product-4 .productCarousel-custom .productCarousel-content"),a=o.find(".productCarousel");I(o.data("category-id"),o.data("category-url"),e,a,o.attr("id"))}}}}function B(e){const t=$(".halo-block-product-5 .productCarousel-custom");if(t.length){if(e>t.offset().top-screen.height&&u){u=!1;const e={template:"products/carousel-4"};if($(".halo-block-product-5 .productCarousel-custom").length>0&&!$(".halo-block-product-5 .productCarousel-custom .productCarousel-content .productCarousel .productCarousel-slide:not(.product-sample)").length){var o=$(".halo-block-product-5 .productCarousel-custom .productCarousel-content"),a=o.find(".productCarousel");I(o.data("category-id"),o.data("category-url"),e,a,o.attr("id"))}}}}function I(e,o,a,r,i){utils.api.getPage(o,a,((e,o)=>{if(!r.find(".productCarousel-slide:not(.product-sample)").length){r.html(o),H(r),r.parents(".tab-content").find(".loadingOverlay").remove(),r.find(".product-sample").remove();var a=$(".halo-block-product-4 .productCarousel-custom .productCarousel"),n=a.data("dots-bar"),s=$(".halo-block-product-4 .productCarousel-custom .slick-dots li");n&&(s&&s.each(((e,t)=>{$(t).attr("data-index",e+1)})),a.each(((e,t)=>{var o=$(`#${$(t).attr("id")}`);V(o[0],o)}))),haloAddOptionForProduct(t,i)}}))}function M(){let e=$(".product-group");for(let r of e){H($(`#${$(r).attr("id")}`));var t=$(`#${$(r).attr("id")}`),o=t.data("dots-bar"),a=$(`#${$(r).attr("id")} .slick-dots li`);o&&(a&&a.each(((e,t)=>{$(t).attr("data-index",e+1)})),t.each(((e,t)=>{var o=$(`#${$(t).attr("id")}`);V(o[0],o)})))}}function D(){H($("#list-1"));var e=$("#list-1"),t=e.data("dots-bar"),o=$("#list-1 .slick-dots li");t&&(o&&o.each(((e,t)=>{$(t).attr("data-index",e+1)})),e.each(((e,t)=>{var o=$(`#${$(t).attr("id")}`);V(o[0],o)})))}function F(){H($("#list-2"));var e=$("#list-2"),t=e.data("dots-bar"),o=$("#list-2 .slick-dots li");t&&(o&&o.each(((e,t)=>{$(t).attr("data-index",e+1)})),e.each(((e,t)=>{var o=$(`#${$(t).attr("id")}`);V(o[0],o)})))}function H(e){e.not(".slick-initialized").slick({dots:!0,arrows:!1,infinite:!0,mobileFirst:!0,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:1399,settings:{slidesToShow:3}},{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:767,settings:{slidesToShow:2}}]})}function V(e,t){const o=e.querySelectorAll(".slick-dots li"),a=o.length,r=e.parentElement.querySelector("[data-bars]"),i=e.querySelector(".slick-dots"),n=r.querySelector(".bar-thumb"),s=r.clientWidth/a,l=r.getBoundingClientRect().x;n.style.width=`calc(100%/${a})`,0!==o.length?(t.on("afterChange",(function(t,o,a,r){const s=e.querySelectorAll(".slick-dots li").length,l=i.querySelector(".slick-active").dataset.index;n.style.width=`calc(100%/${s} * ${l})`})),r.addEventListener("click",(e=>{const t=Math.floor((e.pageX-l)/s);o[t].click()}))):r.remove()}function N(t){const o=$(".home-landing-page .heroCarousel"),a=$("#homeBanner2 .homeBanner2__carousel"),r=$("#halo_instagram .halo-image-instagram"),i=$("#halo_instagram_2 .halo-image-instagram"),n=$("#halo_image_gallery .halo-image-gallery"),s=$("#popularCategory .popularCategory__carousel"),l=$("#lookBook1 .lookBook1__carousel"),d=$("#lookBook2 .lookBook2__carousel"),c=$(".customerReviews__carousel"),u=$(".halo-block-post .halo-recent-post"),S=$("#policyBlock .policyBlock__container"),_=$("#halo_shop_category .halo-shop-category");if(o.length){t>o.offset().top-screen.height&&p&&(p=!1,o.slick({fade:!0,dots:!0,arrows:e.mainCarouselArrow,mobileFirst:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:e.mainCarouselSpeed,slide:"[data-hero-slide]",customPaging:(e,t)=>'<button data-carousel-dot type="button"><span>'+String(t+1).padStart(2,"")+"</span><span data-dots-totals>|</span><span>"+e.slideCount+"</span></button>"}))}if(a.length){t>a.offset().top-screen.height&&m&&(m=!1,a.slick({fade:!0,dots:!1,arrows:!0,infinite:!1,mobileFirst:!1,autoplay:!0,slidesToShow:1,slidesToScroll:1}))}if(r.length){t>r.offset().top-screen.height&&h&&(h=!1,r.slick({dots:!1,arrows:!1,infinite:!1,mobileFirst:!0,autoplay:!1,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:1399,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:767,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:550,settings:{slidesToShow:3,slidesToScroll:3}}]}))}if(i.length){t>i.offset().top-screen.height&&f&&(f=!1,i.slick({dots:!1,arrows:!0,infinite:!0,mobileFirst:!0,autoplay:!1,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:1399,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:550,settings:{slidesToShow:2,slidesToScroll:2}}]}))}if(n.length){t>n.offset().top-screen.height&&g&&(g=!1,n.slick({dots:!1,arrows:!0,infinite:!1,mobileFirst:!0,autoplay:!1,slidesToShow:2,slidesToScroll:2,responsive:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:767,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:550,settings:{slidesToShow:2,slidesToScroll:2}}]}))}if(s.length){t>s.offset().top-screen.height&&v&&(v=!1,s.slick({dots:!1,arrows:!0,infinite:!0,mobileFirst:!0,slidesToShow:2,slidesToScroll:2,responsive:[{breakpoint:1599,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:1399,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:767,settings:{slidesToShow:3,slidesToScroll:3}}]}))}if(l.length){t>l.offset().top-screen.height&&b&&(b=!1,l.slick({dots:!1,arrows:!0,infinite:!0,mobileFirst:!1,slidesToShow:1,slidesToScroll:1}))}if(d.length){t>d.offset().top-screen.height&&y&&(y=!1,d.slick({dots:!1,arrows:!0,infinite:!0,mobileFirst:!0,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:551,settings:{slidesToShow:2,slidesToScroll:2,arrows:!0}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3,arrows:!0}},{breakpoint:1600,settings:{slidesToShow:4,slidesToScroll:4,arrows:!0}}]}))}if(c.length){if(t>c.offset().top-screen.height&&w){w=!1;let e=!0,t=!0;c.length?(e=!0,t=!1):(e=!1,t=!0),c.slick({dots:e,arrows:t,infinite:!0,mobileFirst:!0,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]})}}if(u.length){if(t>u.offset().top-screen.height&&k){k=!1;let e=!1,t=!1,o=!1;u.slick({dots:e,arrows:t,fade:o,infinite:!0,mobileFirst:!0,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:911,settings:{slidesToShow:2,slidesToScroll:2}}]})}}if(S.length){t>S.offset().top-screen.height&&C&&(C=!1,S.slick({dots:!1,arrows:!0,infinite:!0,mobileFirst:!0,autoplay:!1,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:1399,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:550,settings:{slidesToShow:2,slidesToScroll:1}}]}))}if(_.length){t>_.offset().top-screen.height&&x&&(x=!1,_.slick({dots:!1,arrows:!1,infinite:!0,mobileFirst:!0,autoplay:!1,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:1399,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:550,settings:{slidesToShow:2,slidesToScroll:2}}]}))}}function W(e){const t=$(".haloBannerParallax");t.length&&t.each((function(o){const a=t.eq(o).outerHeight()/2,r=t.eq(o).offset().top-screen.height,i=t.eq(o).offset().top+t.outerHeight();var n=t.eq(o).find("img");e<i&&e>r?t.eq(o).find(".haloBannerParallax__img").addClass("is-zoom"):t.eq(o).find(".haloBannerParallax__img").removeClass("is-zoom"),e>i-a&&e<i?n.css({top:"-20%",transform:"translate(0, 20%) scale3d(1.1, 1.1, 1.1)",transition:"all .8s ease"}):e<i-a-screen.height?n.css({top:"20%",transform:"translate(0, -20%) scale3d(1.1, 1.1, 1.1)",transition:"all .8s ease"}):n.css({top:"",transform:"",transition:""})}))}function O(e){const t=$(".halo-fadeInUp");t.length&&t.each((function(o){const a=t.eq(o).offset().top-screen.height+50,r=t.eq(o).offset().top+screen.height-50;t.eq(o).find("img");e<r&&e>a&&t.eq(o).addClass("animated")}))}function j(e){const t=e;if(1==t.themeSettings.custom_product_block_special){var o=$("[data-special-product-id]").data("special-product-id"),a=!1;const e={template:"halothemes/product/halo-special-product-tmp"};$(window).on("scroll load",(function(){if($(window).scrollTop()>$(".header").height()&&(a=!0),a){if(!$(".halo-spacial-product .productView").length){utils.api.product.getById(o,e,((e,o)=>{a=!1;var r,i,n=".halo-spacial-product";if(!$(n).find(".productView").length){$(n).html(o),function(e){if(e.length>0){var o=t.themeSettings.product_viewingProduct_text,a=t.themeSettings.product_viewingProduct_viewer,r=JSON.parse("["+a+"]");setInterval((function(){var t=Math.floor(Math.random()*r.length);e.html('<svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye"/></svg>'+r[t]+" "+o),e.removeClass("u-hiddenVisually")}),1e4)}}($(n).find(".productView-ViewingProduct")),$(n).find("[data-slick]").slick(),$(n).find(".productView-for").get(0).slick.setPosition(),(r=$(n)).find(".productView-nav"),(i=r.find(".productView-for")).find(".slick-arrow").length>0?i.parent().addClass("arrows-visible"):i.parent().addClass("arrows-disable"),$(n).on("click",".dropdown-menu-button",(e=>{var t=$(e.currentTarget);t.hasClass("is-open")?(t.removeClass("is-open").attr("aria-expanded",!1),t.siblings(".dropdown-menu").removeClass("is-open").attr("aria-hidden",!0)):(t.addClass("is-open").attr("aria-expanded",!0),t.siblings(".dropdown-menu").addClass("is-open").attr("aria-hidden",!1)),e.stopPropagation()})),$(document).on("click",(e=>{$(n).find(".dropdown-menu-button").hasClass("is-open")&&0===$(e.target).closest(".dropdown-menu-button").length&&0===$(e.target).closest(".dropdown-menu").length&&($(n).find(".dropdown-menu-button").removeClass("is-open").attr("aria-expanded",!1),$(n).find(".dropdown-menu-button").siblings(".dropdown-menu").removeClass("is-open").attr("aria-hidden",!0))}));var s=new ProductDetails($(n),t);return s.setProductVariant(),s}}))}a=!1}}))}}function z(e,t,o,a){if(t>=o.length)window.location="/cart.php";else if(void 0!==window.FormData){var r=o[t];utils.api.cart.itemAdd(function(e){try{for(const[t,o]of e)o instanceof File&&!o.name&&!o.size&&e.delete(t)}catch(e){console.error(e)}return e}(new FormData(e[r])),((r,i)=>{const n=r||i.data.error;if(n){a++;const e=document.createElement("DIV");e.innerHTML=n,alert(e.textContent||e.innerText)}++t>=o.length?(!n||o.length>a)&&(window.location="/checkout"):z(e,t,o,a)}))}}$("#haloAZBrandsTable").length&&AZBrands(e),$(document).ready((function(){window.innerWidth;const e=$(this).scrollTop();$("body").addClass("menu-is-load"),_(),E(e),A(e),P(e),L(e),B(e),$(window).width()>1024&&$(".navPages-list:not(.navPages-list--user) > .navPages-item.has-dropdown").length&&$(".navPages-list:not(.navPages-list--user) > .navPages-item.has-dropdown").on("mouseover",(e=>{$("body").addClass("openMenuPC")})).on("mouseleave",(e=>{$("body").removeClass("openMenuPC")})),N(e),W(e),O(e),document.querySelector(".page-type-giftcertificates")&&function(){const e=document.getElementById("card_name_dropdown"),t=document.querySelector(".form-field-group");function o(){const o=e.value,a=t.querySelector(`input[value="${o}"]`);a&&(a.checked=!0)}o(),e.addEventListener("change",(function(){o()}))}(),$(".item-gift__buy").click((function(){$("html, body").animate({scrollTop:$("#gift__buy").offset().top+200},1e3)})),$(".item-gift__active").click((function(){$("html, body").animate({scrollTop:$("#gift__active").offset().top+200},1e3)})),$(".item-gift__verify").click((function(){$("html, body").animate({scrollTop:$("#gift__verify").offset().top+200},1e3)})),$(".member-benefic-button").click((function(){$("html, body").animate({scrollTop:$("#member-benefic").offset().top+200},1e3)})),$(".member-convince-button").click((function(){$("html, body").animate({scrollTop:$("#member-convince").offset().top+200},1e3)})),$(".button-register").click((function(){$("html, body").animate({scrollTop:$(".reminder-form-wrapper").offset().top+200},1e3)})),$(".button-mai-multe").click((function(){$("html, body").animate({scrollTop:$(".reminder-body").offset().top+200},1e3)})),function(){let e=document.querySelectorAll(".how-it-work__list .how-it-work__title"),t=document.querySelectorAll(".how-it-work__contents .how-it-work__content");if(e.length)for(let o=0;o<e.length;o++)e[o].addEventListener("click",(function(a){a.preventDefault();let r=document.querySelector(".how-it-work__list .how-it-work__title.is-active"),i=document.querySelector(".how-it-work__contents .how-it-work__content.is-active");r.classList.remove("is-active"),i.classList.remove("is-active"),this.classList.contains("is-active")||e[o].classList.add("is-active"),t[o].classList.contains("is-active")||t[o].classList.add("is-active")}))}(),eventFilterSidebar(),eventFilter(),viewEventMore(),window.innerWidth<1025&&(D(),F(),function(){const e=document.querySelector("#halo-related-products .related-digital-list"),t=e?.querySelectorAll("#halo-related-products .product");if(e&&t)if(window.innerWidth<1024)for(let o=0;o<t.length;o+=3){const a=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div");r.className="product-group-wrapper",a.className="product-group",a.setAttribute("id","product-group-"+o),a.setAttribute("data-dots-bar",!0),i.className="progress-wrapper",i.innerHTML='<div class="progress" role="progressbar" aria-label="Progress Bar" aria-valuemin="0" aria-valuemax="100" data-bars>\n                                            <div class="bar-thumb"></div>\n                                        </div>';for(let e=o;e<o+3&&e<t.length;e++)a.appendChild(t[e]);r.appendChild(a),r.appendChild(i),e.appendChild(r)}else e.querySelectorAll(".product-group").forEach((t=>{t.querySelectorAll(".product").forEach((t=>e.appendChild(t))),t.remove()}))}(),M()),$(".page-type-category")||function(){const e=document.querySelectorAll(".related-digital-block .product"),t=document.getElementById("digital-view-more-button"),o=6;let a=1;function r(t,o){for(let a=t;a<o;a++)e[a]&&(e[a].style.display="inline-block",window.innerWidth<1024&&e[a].closest(".product-group-wrapper").classList.remove("process-hidden"))}function i(){e.forEach((e=>{e.style.display="none",window.innerWidth<1024&&e.closest(".product-group-wrapper").classList.add("process-hidden")}))}function n(){const n=(a-1)*o+o;i(),r(0,n),n>=e.length?(t.textContent="No More Product",t.disabled=!0,t.style.pointerEvents="none",t.style.backgroundColor="#ccc",t.style.borderColor="#ccc"):(t.textContent="VEZI TOATE",t.disabled=!1)}t&&e&&(t.addEventListener("click",(e=>{e.preventDefault(),a++,n()})),n())}(),$(".special-product-blocks").length&&j(t),$(".special-ticket-blocks").length&&(function(e){const t=e;var o=$("[data-special-product-id-2]").data("special-product-id-2"),a=!1;const r={template:"halothemes/product/halo-special-ticket-tmp"};$(window).on("scroll load",(function(){if($(window).scrollTop()>$(".header").height()&&(a=!0),a){if(!$(".halo-spacial-product-2 .productView").length){function e(e){if(e.length>0){var o=t.themeSettings.product_viewingProduct_text,a=t.themeSettings.product_viewingProduct_viewer,r=JSON.parse("["+a+"]");setInterval((function(){var t=Math.floor(Math.random()*r.length);e.html('<svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye"/></svg>'+r[t]+" "+o),e.removeClass("u-hiddenVisually")}),1e4)}}function i(e){var t=$(e),o=(t.find(".productView-nav"),t.find(".productView-for"));o.find(".slick-arrow").length>0?o.parent().addClass("arrows-visible"):o.parent().addClass("arrows-disable")}utils.api.product.getById(o,r,((o,r)=>{a=!1;var n=".halo-spacial-product-2";if(!$(n).find(".productView").length){$(n).html(r),e($(n).find(".productView-ViewingProduct")),$(n).find("[data-slick]").slick(),$(n).find(".productView-for").get(0).slick.setPosition(),i(n),$(n).on("click",".dropdown-menu-button",(e=>{var t=$(e.currentTarget);t.hasClass("is-open")?(t.removeClass("is-open").attr("aria-expanded",!1),t.siblings(".dropdown-menu").removeClass("is-open").attr("aria-hidden",!0)):(t.addClass("is-open").attr("aria-expanded",!0),t.siblings(".dropdown-menu").addClass("is-open").attr("aria-hidden",!1)),e.stopPropagation()})),$(document).on("click",(e=>{$(n).find(".dropdown-menu-button").hasClass("is-open")&&0===$(e.target).closest(".dropdown-menu-button").length&&0===$(e.target).closest(".dropdown-menu").length&&($(n).find(".dropdown-menu-button").removeClass("is-open").attr("aria-expanded",!1),$(n).find(".dropdown-menu-button").siblings(".dropdown-menu").removeClass("is-open").attr("aria-hidden",!0))}));var s=new ProductDetails($(n),t);return s.setProductVariant(),s}}))}a=!1}}))}(t),function(e){return new Promise(((t,o)=>{const a=e;var r=$("[data-special-product-id-1]").data("special-product-id-1"),i=!1;const n={template:"halothemes/product/halo-special-ticket-tmp"};$(window).on("scroll load",(function(){if($(window).scrollTop()>$(".header").height()&&(i=!0),i){if(!$(".halo-spacial-product-1 .productView").length){function e(e){if(e.length>0){var t=a.themeSettings.product_viewingProduct_text,o=a.themeSettings.product_viewingProduct_viewer,r=JSON.parse("["+o+"]");setInterval((function(){var o=Math.floor(Math.random()*r.length);e.html('<svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye"/></svg>'+r[o]+" "+t),e.removeClass("u-hiddenVisually")}),1e4)}}function o(e){var t=$(e),o=(t.find(".productView-nav"),t.find(".productView-for"));o.find(".slick-arrow").length>0?o.parent().addClass("arrows-visible"):o.parent().addClass("arrows-disable")}utils.api.product.getById(r,n,((r,n)=>{i=!1;var s=".halo-spacial-product-1";if(!$(s).find(".productView").length){$(s).html(n),e($(s).find(".productView-ViewingProduct")),$(s).find("[data-slick]").slick(),$(s).find(".productView-for").get(0).slick.setPosition(),o(s),$(s).on("click",".dropdown-menu-button",(e=>{var t=$(e.currentTarget);t.hasClass("is-open")?(t.removeClass("is-open").attr("aria-expanded",!1),t.siblings(".dropdown-menu").removeClass("is-open").attr("aria-hidden",!0)):(t.addClass("is-open").attr("aria-expanded",!0),t.siblings(".dropdown-menu").addClass("is-open").attr("aria-hidden",!1)),e.stopPropagation()})),$(document).on("click",(e=>{$(s).find(".dropdown-menu-button").hasClass("is-open")&&0===$(e.target).closest(".dropdown-menu-button").length&&0===$(e.target).closest(".dropdown-menu").length&&($(s).find(".dropdown-menu-button").removeClass("is-open").attr("aria-expanded",!1),$(s).find(".dropdown-menu-button").siblings(".dropdown-menu").removeClass("is-open").attr("aria-hidden",!0))}));var l=new ProductDetails($(s),a);return l.setProductVariant(),t(n),l}}))}i=!1}}))}))}(t).then((e=>{!function(){const e=document.querySelectorAll(".product-ticket__form .custom-form-action .form-input"),t=document.querySelectorAll(".product-ticket__form [data-product-option-change] .form-input");document.querySelector(".product-ticket__form .custom-checkout-form"),e.forEach((function(e,o){e.addEventListener("input",(function(){t[o].value=this.value}))}))}(),function(){let e=document.querySelectorAll(".special-ticket-blocks .halo-productView-right");forEach(e,(function(e){let t=e.querySelector(".custom-price-value").innerHTML,o=parseFloat(t);e.querySelector(".form-increment");var a=e.querySelector(".form-input--incrementTotal");function r(t){var a=t*o;e.querySelector(".total-value").textContent=a.toFixed(2)}r(parseInt(a.value)),a.addEventListener("change",(function(){r(parseInt(a.value))})),e.querySelector('.button[data-action="inc"]').addEventListener("click",(function(){r(parseInt(a.value)+1)})),e.querySelector('.button[data-action="dec"]').addEventListener("click",(function(){r(parseInt(a.value)-1)}))}))}(),$(".custom-checkout-form").click((function(e){e.preventDefault(),function(){var e=document.querySelector(".custom-form__name"),t=document.querySelector(".custom-form__email"),o=document.createElement("div");o.classList.add("error-message"),o.textContent="Please fill out all fields and provide a valid email address",o.style.color="red";var a=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;if(""===e.value.trim()||!a.test(t.value)){var r=document.querySelector(".custom-form-options");return r.querySelector(".error-message")&&r.querySelector(".error-message").remove(),r.appendChild(o),!1}return!0}()&&function(){let e=$(".special-ticket-blocks");const t=$("form.qor_item_form",e);var o=new Array,a=0;e.find("form.qor_item_form").each((function(e){o.push(e)})),o.length>0&&z(t,0,o,a)}()}))}))),$(".productView").length&&!$(".page-type-product").length&&ProductDetails($(".productView"),t,window.BCData.product_attributes)})),$(window).on("scroll",(e=>{const t=$(e.currentTarget).scrollTop();S(),function(e){o.halo_headerSticky&&(e>r?($(window).width()>1024&&$(".halo-search-sticky").length&&$(".halo-search-main #quickSearch").appendTo(".halo-search-sticky"),$(".header-height").length||a.before('<div class="header-height" style="height: '+i+'px"></div>'),a.addClass("is-sticky"),$("body").addClass("is-sticky-header"),a.css("animation-name","fadeInDown")):($(".halo-search-main").length&&$(".halo-search-sticky #quickSearch").appendTo(".halo-search-main"),a.removeClass("is-sticky"),$("body").removeClass("is-sticky-header"),$(".header-height").remove(),a.css("animation-name","")),e)}(t),E(t),A(t),P(t),L(t),B(t),N(t),W(t),O(t)})),$(document).on("keydown mousemove touchstart",(e=>{S()})),$(window).on("resize",(e=>{q(),T(),_(),changeNavigationPosition(),changeWishlistPosition()})),function(){const e=".card-option .form-option-swatch";$(document).on("click",e,(t=>{t.preventDefault();const o=$(t.currentTarget),a=o.find(".form-option-variant").attr("title");$(e).removeClass("is-active"),o.addClass("is-active"),o.parents(".card").find(".card-name").text(` - ${a}`)}));const t=$(".btn-close"),o=$(".mobileMenu-toggle"),a=$("#before-you-leave");t.on("click",(e=>{e.preventDefault();$(e.currentTarget).parents(".halo-side-block").removeClass("is-open"),$("body").hasClass("openBeforeYouLeave")?($("body").removeClass("openBeforeYouLeave"),setTimeout((function(){a.hide()}),200)):($("body").removeClass("is-side-block"),setTimeout((function(){$sideLogin.hide(),$sideCart.hide(),$("#sideBlock_category").hide(),$("#sideBlock_search").hide(),$("#sideBlock_brand").hide(),$("#sideBlock_blog").hide()}),200)),$("body").hasClass("has-activeNavPages")&&o.trigger("click")})),$("body").hasClass("page-type-login")?$("[data-login-form]").on("click",(e=>{e.preventDefault(),$("html, body").animate({scrollTop:$(".login").offset().top},700)})):$("[data-login-form]").on("click",(e=>{e.preventDefault(),$(".halo-auth-sidebar").hasClass("is-open")?($(".halo-auth-sidebar").removeClass("is-open"),$("body").removeClass("openAuthSidebar")):($(".halo-auth-sidebar").addClass("is-open"),$("body").addClass("openAuthSidebar"))})),$(".halo-auth-sidebar .halo-sidebar-header .close").on("click",(e=>{e.preventDefault(),$(".halo-auth-sidebar").removeClass("is-open"),$("body").removeClass("openAuthSidebar")})),$(document).on("click",(e=>{$(".halo-auth-sidebar").hasClass("is-open")&&0===$(e.target).closest(".halo-auth-sidebar").length&&0===$(e.target).closest("[data-login-form]").length&&0===$(e.target).closest("[data-login-mobile]").length&&($(".halo-auth-sidebar").removeClass("is-open"),$("body").removeClass("openAuthSidebar"))})),$("[data-header-liveHelp]").on("click",(e=>{e.preventDefault(),$(window).width()<1025?$("#halo-live-help").hasClass("is-open")?($("#halo-live-help").removeClass("is-open"),$("body").removeClass("openLiveHelp")):($("#halo-live-help").addClass("is-open"),$("body").addClass("openLiveHelp")):$("#dropdown-liveHelp").hasClass("is-open")?($("#dropdown-liveHelp").removeClass("is-open"),$("body").removeClass("openLiveHelp")):($("#dropdown-liveHelp").addClass("is-open"),$("body").addClass("openLiveHelp"))})),$(document).on("click",(e=>{$(".halo-live-help").hasClass("is-open")&&(e.preventDefault(),0===$(e.target).closest("[data-header-liveHelp]").length&&($(".halo-live-help").removeClass("is-open"),$("body").removeClass("openLiveHelp")))})),$(document).on("click",".card .wishlist",(e=>{e.preventDefault();var t=$(e.currentTarget).attr("href");$("body").hasClass("is-login")?$.post(t).done((function(){window.location.href=t})):window.location.href="/login.php"})),$(".footer-info-heading--toggle").on("click",(e=>{e.preventDefault();if(window.innerWidth<768){const t=$(e.currentTarget).parents(".footer-info-col"),o=t.find(".footer-info-list");t.toggleClass("open-dropdown"),t.hasClass("open-dropdown")?o.slideDown(400):o.slideUp(400)}}))}(),$("#member-convince").length&&function(){let e=$(".button-show-auth-sidebar"),t=$("body"),o=$("#halo-auth-sidebar");e.on("click",(function(e){e.preventDefault(),e.stopPropagation(),t.addClass("openAuthSidebar"),o.addClass("is-open")}))}()}function reviewGiftCard(){if($(".page-type-giftcertificates").length){$("#gift-certificate-preview").click()}}function updateGiftCardInfo(e,t){if($(".page-type-giftcertificates").length){let o=document.querySelector(e),a=document.querySelector(t);a.addEventListener("change",(function(){const e=a.value;o.textContent=e}))}}function balanceVource(){let e="",t="";const o=document.getElementById("giftcertificatecode");o.addEventListener("change",(function(){e=o.value,t=`/giftcertificates.php?action=balance&giftcertificatecode=${e}`}));let a=document.querySelector("#gift-certificate-balance .form-prefixPostfix-button--postfix"),r=$(".custom-check-stock-balance");a.addEventListener("click",(function(){api.getPage(t,{},((e,t)=>{if(e&&r.append(e),t){let e=t.search('<main class="page-content">'),o=t.search("</main>")+7,a=document.createElement("div"),i=t.slice(e,o);a.innerHTML=i;let n=a.querySelector("h1");n||(n="Not found"),r.html(`Soldul cardului: ${n.textContent?n.textContent:n}`)}}))}))}function checkConfirmEmail(e,t){var o=document.getElementById(e),a=document.getElementById(t),r=document.getElementById("errorText"),i=document.getElementById("gift-certificate-submit");o.value===a.value?(r.textContent="",a.closest(".form-field").classList.remove("confirm--error"),a.style.border="1px solid #252525",i.classList.remove("disable")):(r.textContent="Emails do not match",a.style.border="1px solid #cc4749",a.closest(".form-field").classList.add("confirm--error"),i.classList.add("disable"))}updateGiftCardInfo("#gift-name__price","#selected_amount"),updateGiftCardInfo("#gift-name__receive","#to_name"),updateGiftCardInfo("#gift-mail__receive","#to_email"),updateGiftCardInfo("#gift-name__send","#from_name"),updateGiftCardInfo("#gift-mail__send","#from_email"),updateGiftCardInfo("#gift-message","#message");let toEmail=document.getElementById("to_email2"),fromEmail=document.getElementById("from_email2");function zoomImageCardDigital(){document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".icon--zoom");if(e){const t=document.createElement("div");t.className="digital-overlay",document.body.appendChild(t),t.style.display="none",e.forEach((function(e){e.addEventListener("click",(function(){const o=e.closest(".product").querySelector(".card-img-container img").getAttribute("src");let a=o.replace("160w","1280w");const r=document.createElement("div");r.className="digital-popup";const i=document.createElement("img");i.src=a||o;const n=document.createElement("span");n.className="close-btn",n.innerHTML="&times;",n.addEventListener("click",(function(){t.removeChild(r),t.style.display="none"})),r.appendChild(i),r.appendChild(n),t.appendChild(r),t.style.display="block",r.style.display="block"}))})),t.addEventListener("click",(function(){const e=document.querySelector(".digital-popup");e&&t.removeChild(e),t.style.display="none"}))}}))}function haloAskAnExpertDigital(e){var t;$(document).on("click","#halo-ask-an-expert-button-digital",(e=>{var o=!0,a="Card Digital",r=$("#halo-ask-an-expert-form input[name=recipient_email]").val(),i=$("#halo-ask-an-expert-form input[name=customer_name]").val(),n=$("#halo-ask-an-expert-form input[name=customer_email]").val(),s=$("#halo-ask-an-expert-form textarea[name=comment_area]").val();if($("body").hasClass("page-type-product")){var l=$(".digital-image__link").attr("href"),d=$("#email-content .digital__title").text(),c=$("#email-content .digital__url").attr("href");t="<div style='border: 1px solid #e6e6e6;padding: 30px;max-width: 500px;margin: 0 auto;'>                            <h2 style='margin-top:0;margin-bottom:30px;color: #000000;'>"+a+"</h2>                            <p style='border-bottom: 1px solid #e6e6e6;padding-bottom: 23px;margin-bottom:25px;color: #000000;'>You received a card digital from Stephanus.</p>                            <table style='width:100%;'>                            <tr>                                <td style='border-bottom: 1px solid #e6e6e6;padding-bottom: 25px;margin-bottom:25px;width:50%;'><img width='100px' src='"+l+"' alt='"+d+"' title='"+d+"'></td><td style='border-bottom: 1px solid #e6e6e6;padding-bottom: 25px;margin-bottom:25px;'> <br><a href='"+c+"'>"+d+"</a></td>                            </tr>                        <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>From Customer Name: </strong></td><td>"+i+"</td></tr>                        <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>Customer Address: </strong></td><td>"+n+"</td></tr>                        <tr><td style='padding-right: 10px;vertical-align: top;width:50%;'><strong>Personalized Message: </strong></td><td>"+s+"</td></tr>                    </table></div>"}if($("#halo-ask-an-expert-form input[required], #halo-ask-an-expert-form textarea[required]").each(((e,t)=>{$.trim($(t).val())?$(t).parent(".form-field").removeClass("form-field--error").addClass("form-field--success"):($(t).parent(".form-field").removeClass("form-field--success").addClass("form-field--error"),o=!1);"customer_email"!=$(t).attr("name")||/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test($.trim($(t).val()))||($(t).parent(".form-field").removeClass("form-field--success").addClass("form-field--error"),o=!1)})),o){var u={api:"i_send_mail",subject:a,from_name:i,email:r,email_from:n,message:t};$.post("https://themevale.net/tools/sendmail/quotecart/sendmail.php",u,(e=>{if("error"==e.type)var t='<div class="alertBox alertBox--error"><p class="alertBox-message">'+e.text+"</p></div>",o="Ai alte intrebari?!";else{t='<div class="alertBox alertBox--success"><p class="alertBox-message custom-page-text fw-500 text-center">E-mail a fost trimis cu succes!</p>\n                    <p class="alertBox-message custom-page-text fw-500 text-center">Intre timp, descopera cele mai noi produse adaugate!</p>\n\n                    <a href="/categories/c-r-i/" class="button button--tertiary hover-gold btn-mobile" style="display: block; margin-top: 8px;">NOUTATI</a></div>',o="Multumim!";$("#halo-ask-an-expert-form  input[required], #halo-ask-an-expert-form textarea[required]").val(""),$("#halo-ask-an-expert-form").hide()}$("#halo-ask-an-expert-results-digital").hide().html(t).show(),$(".heading-submit-form--success").hide().text(o).show()}),"json")}}))}function eventFilterSidebar(){let e=document.querySelector(".button-event-filter"),t=document.querySelector(".event-block__left"),o=document.querySelector(".icon-close-filter");e&&t&&(e.addEventListener("click",(e=>{e.preventDefault();let o=document.querySelector(".middleHeader-item__item.item--hamburger");t.classList.add("is-open"),$("html, body").animate({scrollTop:0}),$("body").addClass("not-scroll"),o.querySelector(".mobileMenu-toggle").style.display="none",o.querySelector(".icon-close-filter").style.display="block"})),o.addEventListener("click",(e=>{e.preventDefault();let o=document.querySelector(".middleHeader-item__item.item--hamburger");t.classList.remove("is-open"),$("body").removeClass("not-scroll"),o.querySelector(".mobileMenu-toggle").style.display="block",o.querySelector(".icon-close-filter").style.display="none"})))}function eventFilter(){const e=document.querySelector(".button-fillter"),t=document.querySelectorAll(".filter-check"),o=document.querySelectorAll(".event-content__item"),a=document.querySelector(".filter-clear");e&&o&&(e.addEventListener("click",(function(e){e.preventDefault();const a=Array.from(t).filter((e=>e.checked)).map((e=>e.nextElementSibling.textContent));o.forEach((e=>{const t=e.getAttribute("data-filter");if(t){const o=t.split(","),r=o[1];for(let t of o)a.includes(r)||a.includes(t)?e.style.display="flex":e.style.display="none"}}))})),a.addEventListener("click",(function(e){e.preventDefault(),t.forEach((e=>{e.checked=!1})),o.forEach((e=>{e.style.display="flex"}))})))}function viewEventMore(){const e=document.querySelectorAll(".event-content"),t=document.querySelector(".event-view-more-button");let o=0;function a(){e[o].style.display="block",o+1<e.length&&(e[o+1].style.display="block")}e&&t&&(a(),t.addEventListener("click",(function(r){r.preventDefault(),o++,o<e.length&&a(),o===e.length-2&&(t.style.display="none")})))}function accountWishlistSidebar(e){let t=document.querySelector(".account-wishlist__list");t&&fetch("/wishlist.php").then((e=>e.text())).then((o=>{const a=document.createElement("div");a.innerHTML=o;const r=a.querySelectorAll(".table-tbody tr"),i=r[r.length-1].querySelector("a").getAttribute("href");fetch(i).then((e=>e.text())).then((e=>{const o=document.createElement("div");o.innerHTML=e;const a=o.querySelectorAll(".product");0===a.length?t.innerHTML='<p class="account-wishlist__empty">Your Wish List is empty. When you add items to your Wish List they will appear here.</p>':a.forEach(((e,o)=>{o<3&&t.appendChild(e)}));let r=document.querySelectorAll(".wishlist-item-example");for(let e of r)e.remove()})).then((()=>{document.querySelectorAll(".account-wishlist__list .product").forEach((e=>{let t=e.querySelector(".button-remove-wishlist");e.querySelector(".form").getAttribute("action");t.addEventListener("click",(function(e){e.preventDefault();let t=this.closest(".form").getAttribute("action"),o=this.closest(".product");const a=document.createElement("div");a.classList.add("loading-scroll"),o.appendChild(a),$.post(t).done((function(){o.remove()}))}))}))})).then((()=>{addBrandForWishlistSidebar(e)}))})).catch((e=>console.error("Error:",e)))}function accountInformation(){fetch("/account.php?action=account_details").then((e=>e.text())).then((e=>{const t=document.createElement("div");t.innerHTML=e;const o=t.querySelector(".account-body .form-row");if(o){let e=o.querySelector("#account_firstname").value,t=o.querySelector("#account_lastname").value,a=o.querySelector('.form-select[data-label="day"] option[selected]').value,r=o.querySelector('.form-select[data-label="month"] option[selected]').value,i=o.querySelector('.form-select[data-label="year"] option[selected]').value,n=document.querySelector(".col-value--last-name"),s=document.querySelector(".col-value--first-name"),l=document.querySelector(".col-value--date");if(!n||!s||!l)return;n.textContent=t,s.textContent=e,l.textContent=`${a}.${r}.${i}`}})).catch((e=>console.error("Error:",e)))}function getAccountAddress(){fetch("/account.php?action=address_book").then((e=>e.text())).then((e=>{const t=document.createElement("div");t.innerHTML=e;const o=t.querySelectorAll(".addressList .address");for(let e of o){let t=e.querySelectorAll(".address-details li");const o=[];t.forEach((e=>{const t=e.textContent.trim();""!==t&&o.push(t)}));const a=o.join(", ");if(""!==a){let e=document.querySelector(".col-value--address"),t=document.querySelector(".col-value--addres2");if(!e||!t)return;e.innerHTML=a,t.querySelector(".col-value--address2").innerHTML=a}}})).catch((e=>console.error("Error:",e)))}function changeWishlistPosition(){let e=document.querySelector(".custom-account-wishlist"),t=document.querySelector(".page-account__sidebar"),o=document.querySelector(".custom-account-wishlist-mobile");e&&(window.innerWidth<767?o.appendChild(e):t.appendChild(e))}function changeNavigationPosition(){let e=document.querySelector(".page-account__sidebar .navBar--account"),t=document.querySelector(".page-account__sidebar"),o=document.querySelector(".account-navigation-mobile");e&&(window.innerWidth<767?o.appendChild(e):t.appendChild(e))}function converseDate(e){const t=e.match(/(\d+)(?:st|nd|rd|th) (\w+) (\d{4})/);if(!t)return;const o=t[1],a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(t[2])+1,r=t[3];return o&&a&&r?`${o.toString().padStart(2,"0")}.${a.toString().padStart(2,"0")}.${r}`:null}function changeDateFormat(){let e=document.querySelectorAll(".account-listItem.order__item");for(let t of e){let e=t.querySelector(".custom-order-date"),o=converseDate(e.textContent);o&&(e.textContent=o)}}function orderTabs(e){let t=document.querySelectorAll(".account-listItem.order__item .order-tab__title");if(t)for(let o of t)o.addEventListener("click",(function(t){t.preventDefault();let o=this.closest(".account-listItem.order__item");o.classList.toggle("is-open");let a=this.getAttribute("href");fetch(a).then((e=>e.text())).then((e=>{const t=document.createElement("div");t.innerHTML=e;let a=t.querySelectorAll(".account-body");if(a){o.querySelector(".order-tab__content").innerHTML=a[0].innerHTML}})).then((()=>{let e=document.querySelectorAll(".definitionList-value.custom-order-date");for(let t of e){let e=converseDate(t.textContent);e&&(t.textContent=e)}})).then((()=>{console.log("add brand for order item"),addBrandForOrderItem(e)}))}))}function viewMoreButton(){var e=document.querySelectorAll(".account-listItem"),t=document.querySelector(".order-viewMore-button"),o=0;if(t){for(var a=3;a<e.length;a++)e[a].style.display="none";t.addEventListener("click",(function(){for(var a=o+3,r=o;r<a&&r<e.length;r++)e[r].style.display="block";(o=a)>=e.length&&(t.style.display="none")}))}}function removeWishlistItem(){document.querySelectorAll(".page-type-wishlist .productGrid .product").forEach((e=>{let t=e.querySelector(".button-remove-wishlist");e.querySelector(".form").getAttribute("action");t.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();let t=this.closest(".form").getAttribute("action"),o=this.closest(".product");const a=document.createElement("div");a.classList.add("loading-scroll"),o.appendChild(a),$.post(t).done((function(){o.remove()}))}))}))}function closeHeaderSearch(){let e=document.querySelector(".custom-close-search"),t=document.querySelector(".header");e.addEventListener("click",(e=>{e.preventDefault(),e.stopImmediatePropagation(),t.click()}))}function formartPrice(){let e=document.querySelectorAll(".price");for(let t of e){let e=t.textContent;if(""!==e){let o=e.replace(/[^\d,]/g,""),a=e.replace(/[^a-zA-Z]+/g,"");a=a.charAt(0).toUpperCase()+a.slice(1).toLowerCase();let r=o+" "+a;t.textContent=r}}}fromEmail&&toEmail&&(toEmail.addEventListener("change",(()=>checkConfirmEmail("to_email","to_email2"))),fromEmail.addEventListener("change",(()=>checkConfirmEmail("from_email","from_email2")))),zoomImageCardDigital();